<nav>
    <h3>
        <HtmxLink Route="/">Home</HtmxLink>
    </h3>
    @if (IsAuthenticated)
    {
        <h3>
            <HtmxLink Route="/forecasts">Forecasts</HtmxLink>
        </h3>
    }
    <h3>
        <HtmxLink Route="/privacy">Privacy</HtmxLink>
    </h3>
    @if (IsAuthenticated)
    {
        <h3>
            Hello @Username !
            <form action="/logout" method="post">
                <button type="submit" hx-post="/logout">Logout</button>
            </form>
        </h3>
    }
    else
    {
        <h3>
            <HtmxLink Route="/login">Login</HtmxLink>
        </h3>
        <h3>
            <HtmxLink Route="/register">Register</HtmxLink>
        </h3>
    }
</nav>

@code {

    [CascadingParameter] private HttpContext? HttpContext { get; set; }
    private bool IsAuthenticated => HttpContext?.User.Identity?.IsAuthenticated == true;
    
    private string? Username => HttpContext?.User.Identity?.Name;

}